javascript:%20(function()%20%7B%20%20window.__glitch_runs%20=%20window.__glitch_runs%20?%20window.__glitch_runs%20+%201%20:%201;%20%20const%20MODES%20=%20%7B%20%20%20%20STANDARD:%20%27STANDARD%27,%20%20%20%20TURBO:%20%27TURBO%27%20%20%7D;%20%20const%20OPTIONS%20=%20Object.assign(%20%20%20%20%7B%20G_T:%20false,%20G_I:%20true,%20TURBO:%20false%20%7D,%20%20%20%20%7BG_T:true%7D%20%7C%7C%20%7B%7D%20%20);%20%20const%20GLITCH_TEXT%20=%20OPTIONS.G_T;%20%20const%20GLITCH_IMAGES%20=%20OPTIONS.G_I;%20%20const%20MODE%20=%20OPTIONS.TURBO%20?%20MODES.TURBO%20:%20MODES.STANDARD;%20%20if%20(MODE%20===%20MODES.TURBO)%20%7B%20%20%20%20window.__glitch_runs%20=%203;%20%20%7D%20%20const%20transformTranspose%20=%20(header,%20input,%20gap%20=%201)%20=%3E%20%7B%20%20%20%20const%20idx%20=%20%20%20%20%20%20header%20+%20Math.floor(Math.random()%20*%20(input.length%20-%20header%20-%20gap));%20%20%20%20const%20tmp%20=%20input%5Bidx%5D;%20%20%20%20input%5Bidx%5D%20=%20input%5Bidx%20+%20gap%5D;%20%20%20%20input%5Bidx%20+%20gap%5D%20=%20tmp;%20%20%20%20return%20input;%20%20%7D;%20%20const%20transformSubstitute%20=%20(header,%20input)%20=%3E%20%7B%20%20%20%20const%20by%20=%20Math.floor(Math.random()%20*%20256);%20%20%20%20const%20idx%20=%20header%20+%20Math.floor(Math.random()%20*%20(input.length%20-%20header));%20%20%20%20input%5Bidx%5D%20=%20by;%20%20%20%20return%20input;%20%20%7D;%20%20const%20transformText%20=%20str%20=%3E%20%7B%20%20%20%20let%20bytes%20=%20new%20TextEncoder(%27utf-8%27).encode(str);%20%20%20%20const%20errors%20=%20Math.random()%20*%20(0.05%20*%20str.length);%20%20%20%20for%20(let%20i%20=%200;%20i%20%3C%20errors;%20i%20+=%201)%20%7B%20%20%20%20%20%20bytes%20=%20%20%20%20%20%20%20%20Math.random()%20%3E%200.5%20%20%20%20%20%20%20%20%20%20?%20transformSubstitute(0,%20bytes)%20%20%20%20%20%20%20%20%20%20:%20transformTranspose(%20%20%20%20%20%20%20%20%20%20%20%200,%20%20%20%20%20%20%20%20%20%20%20%20bytes,%20%20%20%20%20%20%20%20%20%20%20%20Math.floor(Math.random()%20*%20str.length%20-%201)%20+%201%20%20%20%20%20%20%20%20%20%20);%20%20%20%20%7D%20%20%20%20const%20string%20=%20new%20TextDecoder(%27utf-8%27).decode(bytes);%20%20%20%20return%20string;%20%20%7D;%20%20const%20glitchImage%20=%20image%20=%3E%20%7B%20%20%20%20try%20%7B%20%20%20%20%20%20image.onload%20=%20()%20=%3E%20%7B%7D;%20%20%20%20%20%20image.style.backgroundColor%20=%20%27%23262626%27;%20%20%20%20%20%20const%20canvas%20=%20document.createElement(%27canvas%27);%20%20%20%20%20%20const%20context%20=%20canvas.getContext(%272d%27);%20%20%20%20%20%20canvas.width%20=%20image.naturalWidth;%20%20%20%20%20%20canvas.height%20=%20image.naturalHeight;%20%20%20%20%20%20context.drawImage(image,%200,%200);%20%20%20%20%20%20const%20data%20=%20canvas.toBlob(blob%20=%3E%20%7B%20%20%20%20%20%20%20%20const%20fileReader%20=%20new%20FileReader();%20%20%20%20%20%20%20%20fileReader.onload%20=%20event%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20const%20data%20=%20%20%20%20%20%20%20%20%20%20%20%20blob.size%20===%20event.target.result.byteLength%20%20%20%20%20%20%20%20%20%20%20%20%20%20?%20new%20Uint8Array(event.target.result)%20%20%20%20%20%20%20%20%20%20%20%20%20%20:%20null;%20%20%20%20%20%20%20%20%20%20image.onerror%20=%20()%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20%20%20image.src%20=%20URL.createObjectURL(blob);%20%20%20%20%20%20%20%20%20%20%7D;%20%20%20%20%20%20%20%20%20%20const%20glitchOnce%20=%20()%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20%20%20const%20errors%20=%20Math.random()%20*%2010%20*%20window.__glitch_runs;%20%20%20%20%20%20%20%20%20%20%20%20let%20corrupted%20=%20data.slice(0);%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20=%200;%20i%20%3C%20errors;%20i++)%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20corrupted%20=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.random()%20%3E%200.5%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20?%20transformTranspose(100,%20corrupted)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20:%20transformSubstitute(100,%20corrupted);%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20const%20corruptBlob%20=%20new%20Blob(%5Bcorrupted%5D,%20%7B%20type:%20%27image/png%27%20%7D);%20%20%20%20%20%20%20%20%20%20%20%20const%20corruptSrc%20=%20URL.createObjectURL(corruptBlob);%20%20%20%20%20%20%20%20%20%20%20%20image.src%20=%20corruptSrc;%20%20%20%20%20%20%20%20%20%20%7D;%20%20%20%20%20%20%20%20%20%20const%20glitchImageRaf%20=%20()%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20%20%20glitchOnce();%20%20%20%20%20%20%20%20%20%20%20%20window.requestAnimationFrame(glitchImageRaf);%20%20%20%20%20%20%20%20%20%20%7D;%20%20%20%20%20%20%20%20%20%20const%20glitchImageTimeout%20=%20(max%20=%20300)%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20%20%20glitchOnce();%20%20%20%20%20%20%20%20%20%20%20%20window.setTimeout(()%20=%3E%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20glitchImageTimeout(max);%20%20%20%20%20%20%20%20%20%20%20%20%7D,%20Math.random()%20*%20max%20/%202%20+%20Math.random()%20*%20max%20/%202);%20%20%20%20%20%20%20%20%20%20%7D;%20%20%20%20%20%20%20%20%20%20if%20(MODE%20===%20MODES.STANDARD)%20%7B%20%20%20%20%20%20%20%20%20%20%20%20glitchImageTimeout();%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(MODE%20===%20MODES.TURBO)%20%7B%20%20%20%20%20%20%20%20%20%20%20%20glitchImageRaf();%20%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%7D;%20%20%20%20%20%20%20%20fileReader.readAsArrayBuffer(blob);%20%20%20%20%20%20%7D,%20%27image/jpeg%27);%20%20%20%20%7D%20catch%20(e)%20%7B%20%20%20%20%20%20return%20false;%20%20%20%20%7D%20%20%7D;%20%20const%20glitchText%20=%20n%20=%3E%20%7B%20%20%20%20const%20original%20=%20n.textContent;%20%20%20%20const%20glitchText%20=%20()%20=%3E%20%7B%20%20%20%20%20%20n.textContent%20=%20transformText(original).replace(/%EF%BF%BD/g,%20%27%27);%20%20%20%20%7D;%20%20%20%20const%20glitchTextTimeout%20=%20(max%20=%201000)%20=%3E%20%7B%20%20%20%20%20%20glitchText();%20%20%20%20%20%20window.setTimeout(()%20=%3E%20%7B%20%20%20%20%20%20%20%20glitchTextTimeout(max);%20%20%20%20%20%20%7D,%20Math.random()%20*%20max%20/%202%20+%20Math.random()%20*%20max%20/%202);%20%20%20%20%7D;%20%20%20%20const%20glitchTextRaf%20=%20()%20=%3E%20%7B%20%20%20%20%20%20glitchText();%20%20%20%20%20%20window.requestAnimationFrame(glitchTextRaf);%20%20%20%20%7D;%20%20%20%20glitchTextTimeout();%20%20%7D;%20%20const%20textNodesUnder%20=%20el%20=%3E%20%7B%20%20%20%20let%20n;%20%20%20%20const%20a%20=%20%5B%5D;%20%20%20%20const%20walk%20=%20document.createTreeWalker(%20%20%20%20%20%20el,%20%20%20%20%20%20NodeFilter.SHOW_TEXT,%20%20%20%20%20%20null,%20%20%20%20%20%20false%20%20%20%20);%20%20%20%20while%20((n%20=%20walk.nextNode()))%20%7B%20%20%20%20%20%20a.push(n);%20%20%20%20%7D%20%20%20%20return%20a;%20%20%7D;%20%20const%20setupGlitch%20=%20()%20=%3E%20%7B%20%20%20%20if%20(GLITCH_IMAGES)%20%7B%20%20%20%20%20%20const%20images%20=%20document.querySelectorAll(%27img%27);%20%20%20%20%20%20images.forEach(i%20=%3E%20%7B%20%20%20%20%20%20%20%20i.complete%20%20%20%20%20%20%20%20%20%20?%20glitchImage(i)%20%20%20%20%20%20%20%20%20%20:%20(i.onload%20=%20event%20=%3E%20glitchImage(event.target));%20%20%20%20%20%20%7D);%20%20%20%20%7D%20%20%20%20if%20(GLITCH_TEXT)%20%7B%20%20%20%20%20%20const%20textNodes%20=%20textNodesUnder(document.body).filter(%20%20%20%20%20%20%20%20n%20=%3E%20n.textContent%20&&%20n.textContent.length%20%3E%200%20&&%20n.textContent.trim()%20%20%20%20%20%20);%20%20%20%20%20%20textNodes.forEach(glitchText);%20%20%20%20%7D%20%20%7D;%20%20if%20(document.readyState%20===%20%27complete%27)%20%7B%20%20%20%20setupGlitch();%20%20%7D%20else%20%7B%20%20%20%20document.body.addEventListener(%27load%27,%20setupGlitch);%20%20%7D%7D)();
